syntax = "proto3";
package omsx.products;
import "common.proto";
import "categories.proto";

option csharp_namespace = "OMSX.ProductsService.Protos";

service ProductsService {
   rpc GetProductById(ProductIdRequest) returns (ProductResponse);
   rpc GetProducts(omsx.common.PagedRequest) returns (PagedProductResponse);
   rpc GetProductsByCategoryId(ProductRequest) returns (ProductResponse);
   rpc GetProductsByVendorId(ProductRequest) returns (ProductResponse);
   rpc CreateProduct(ProductRequest) returns (ProductResponse);
   rpc UpdateProduct(ProductRequest) returns (ProductResponse);
   rpc DeleteProduct(ProductIdRequest) returns (ProductResponse);
}

message ProductResponse {
   string id = 1;
   string categoryId = 2;
   string vendorId = 3;
   omsx.common.LocalizationResponse productName = 4;
   omsx.common.LocalizationResponse productDescription = 5;
   repeated ProductImageResponse productImages = 6;
   repeated ProductAttributeResponse productAttributes = 7;
   repeated ProductOptionResponse productOptions = 8;
   omsx.categories.CategoryResponse category = 9;
   double price = 10;
   string createdAt = 11;
   string updatedAt = 12;
}

message ProductAttributeResponse {
   string id = 1;
   omsx.common.LocalizationResponse name = 2;
   omsx.common.LocalizationResponse value = 3;
}
message ProductOptionResponse {
	string id = 1;
	omsx.common.LocalizationResponse name = 2;
	omsx.common.LocalizationResponse Description = 3;
	double priceModifier = 4;
}

message ProductRequest {
   string id = 1;
   string categoryId = 2;
   string vendorId = 3;
   omsx.common.LocalizationRequest productName = 4;
   omsx.common.LocalizationRequest productDescription = 5;
   repeated ProductImageRequest productImages = 6;
   repeated ProductAttributeRequest productAttributes = 7;
   repeated ProductOptionRequest productOptions = 8;
   double price = 9;
}

message ProductImageRequest {
	string id = 1;
	omsx.common.ImageRequest image = 2;
}

message ProductImageResponse {
	string id = 1;
	omsx.common.ImageRequest image = 2;
}
message ProductAttributeRequest {
   string id = 1;
   omsx.common.LocalizationRequest name = 2;
   omsx.common.LocalizationRequest value = 3;
}
message ProductOptionRequest {
	string id = 1;
	omsx.common.LocalizationRequest name = 2;
	omsx.common.LocalizationRequest Description = 3;
	double priceModifier = 4;
}

message PagedProductResponse {
   repeated ProductResponse data = 1;
   int32 totalCount = 2;
   int32 pageSize = 3;
   int32 pageNumber = 4;
}
message ProductIdRequest {
   string id = 1;
}


